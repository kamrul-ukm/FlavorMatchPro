{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/boot/catering/pages/cart/cart.vue?99ab","webpack:///C:/Users/Administrator/Desktop/boot/catering/pages/cart/cart.vue?5cdc","webpack:///C:/Users/Administrator/Desktop/boot/catering/pages/cart/cart.vue?c7c3","webpack:///C:/Users/Administrator/Desktop/boot/catering/pages/cart/cart.vue?1a23","uni-app:///pages/cart/cart.vue","webpack:///C:/Users/Administrator/Desktop/boot/catering/pages/cart/cart.vue?b794","webpack:///C:/Users/Administrator/Desktop/boot/catering/pages/cart/cart.vue?d751"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","api","carts","checkedIds","showPayment","qrCodeUrl","nickname","phone","address","remark","sendTime","timeOptions","computed","totalPrice","allChecked","onShow","uni","methods","updateTimeOptions","hour","minute","options","onTimeSelect","getData","toggleItem","toggleAll","changeQuantity","quantity","id","item","deleteItem","title","content","success","confirmPayment","cartIds"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACqC;;;AAGxF;AACwM;AACxM,gBAAgB,gNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnFA;AAAA;AAAA;AAAA;AAA6wB,CAAgB,6xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCwFjyB;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACA;UACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IAAA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;MACA;QACAC;QACAC;MACA;MACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACAP;QACA;QACA;UAAA;QAAA;MACA;IACA;IACAQ;MACA;QACA;UAAA;QAAA;MACA;QACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IACAC;MACA;MACA;QACAV;QACA;MACA;MACAA;QACAW;QACAC;MACA;QACAC;QACAb;MACA;IACA;IACAc;MAAA;MACAd;QACAe;QACAC;QACAC;UACA;YACAjB;cACA;gBAAA;cAAA;cACA;gBAAA;cAAA;cACAA;YACA;UACA;QACA;MACA;IACA;IACAkB;MAAA;MACA;QACAlB;QACA;MACA;MACA;MACAA;QACAmB;QACA1B;QACAC;QACAJ;QACAC;QACAC;MACA;QACAQ;QACA;QACA;QACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxNA;AAAA;AAAA;AAAA;AAA6nC,CAAgB,gnCAAG,EAAC,C;;;;;;;;;;;ACAjpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=0f00adf4&scoped=true&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=0f00adf4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f00adf4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=template&id=0f00adf4&scoped=true&\"","var components\ntry {\n  components = {\n    uText: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-text/u-text\" */ \"@/uni_modules/uview-ui/components/u-text/u-text.vue\"\n      )\n    },\n    uImage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-image/u-image\" */ \"@/uni_modules/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.carts.length\n  var l0 = !(g0 === 0)\n    ? _vm.__map(_vm.carts, function (item, __i0__) {\n        var $orig = _vm.__get_orig(item)\n        var g1 = _vm.checkedIds.includes(item.id)\n        var g2 = (item.quantity * item.food.price).toFixed(2)\n        return {\n          $orig: $orig,\n          g1: g1,\n          g2: g2,\n        }\n      })\n    : null\n  var g3 = !(g0 === 0) ? _vm.totalPrice.toFixed(2) : null\n  var g4 = !(g0 === 0) ? _vm.checkedIds.length : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function (e, item) {\n      var args = [],\n        len = arguments.length - 2\n      while (len-- > 0) args[len] = arguments[len + 2]\n\n      var _temp = args[args.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item\n      var _temp, _temp2\n      return _vm.toggleItem(item.id)\n    }\n    _vm.e1 = function ($event) {\n      _vm.showPayment = true\n    }\n    _vm.e2 = function ($event) {\n      _vm.showPayment = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        g3: g3,\n        g4: g4,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\r\n\t\t<u-text text=\"我的购物车\" size=\"50rpx\" align=\"center\" margin=\"20rpx 0\" />\r\n\t\t<view v-if=\"carts.length === 0\" class=\"empty-cart\">\r\n\t\t\t暂无购物车数据\r\n\t\t</view>\r\n\r\n\t\t<view v-else class=\"cart-container\">\r\n\r\n\r\n\t\t\t<!-- 全选 -->\r\n\t\t\t<view class=\"select-all\">\r\n\t\t\t\t<checkbox :checked=\"allChecked\" @change=\"toggleAll\" /> 全选\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 购物车列表 -->\r\n\t\t\t<block v-for=\"item in carts\" :key=\"item.id\">\r\n\t\t\t\t<view class=\"cart-item\">\r\n\t\t\t\t\t<checkbox :checked=\"checkedIds.includes(item.id)\" @change=\"e => toggleItem(item.id)\" />\r\n\t\t\t\t\t<u-image class=\"cart-img\" :src=\"api + 'file/' + item.food.img\" mode=\"aspectFill\" width=\"100rpx\"\r\n\t\t\t\t\t\theight=\"100rpx\" />\r\n\t\t\t\t\t<view class=\"cart-info\">\r\n\t\t\t\t\t\t<view class=\"food-name\">{{ item.food.name }}</view>\r\n\t\t\t\t\t\t<view class=\"food-price\">单价：¥{{ item.food.price }}</view>\r\n\t\t\t\t\t\t<view class=\"food-quantity\">\r\n\t\t\t\t\t\t\t数量：\r\n\t\t\t\t\t\t\t<button size=\"mini\" @click=\"changeQuantity(item, -1)\"\r\n\t\t\t\t\t\t\t\tstyle='height: 30rpx;line-height: 30rpx;'>-</button>\r\n\t\t\t\t\t\t\t<text style=\"margin: 0 10rpx;\">{{ item.quantity }}</text>\r\n\t\t\t\t\t\t\t<button size=\"mini\" @click=\"changeQuantity(item, 1)\"\r\n\t\t\t\t\t\t\t\tstyle='height: 30rpx;line-height: 30rpx;'>+</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"food-subtotal\">小计：¥{{ (item.quantity * item.food.price).toFixed(2) }}</view>\r\n\t\t\t\t\t\t<button size=\"mini\" type=\"warn\" @click=\"deleteItem(item)\">删除</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\r\n\t\t\t<!-- 结算栏 -->\r\n\t\t\t<view class=\"checkout-bar\">\r\n\t\t\t\t<view>合计：¥{{ totalPrice.toFixed(2) }}</view>\r\n\t\t\t\t<button type=\"primary\" @click=\"showPayment = true\" :disabled=\"checkedIds.length === 0\">去结算</button>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 支付弹窗 -->\r\n\t\t\t<view v-if=\"showPayment\" class=\"popup-mask\">\r\n\t\t\t\t<view class=\"popup-box\">\r\n\t\t\t\t\t<u-text text=\"请扫码支付\" size=\"36rpx\" align=\"center\" margin=\"10rpx 0\" />\r\n\t\t\t\t\t<image :src=\"qrCodeUrl\" mode=\"widthFix\" style=\"width: 200rpx; margin: 10rpx auto;\" />\r\n\r\n\t\t\t\t\t<view class=\"form-field\">\r\n\t\t\t\t\t\t<u-text text=\"名字：\" bold></u-text>\r\n\t\t\t\t\t\t<input v-model=\"nickname\" placeholder=\"请输入名字\" class=\"input\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"form-field\">\r\n\t\t\t\t\t\t<u-text text=\"电话：\" bold></u-text>\r\n\t\t\t\t\t\t<input v-model=\"phone\" placeholder=\"请输入电话\" class=\"input\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"form-field\">\r\n\t\t\t\t\t\t<u-text text=\"地址：\" bold></u-text>\r\n\t\t\t\t\t\t<input v-model=\"address\" placeholder=\"请输入地址\" class=\"input\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"form-field\">\r\n\t\t\t\t\t\t<u-text text=\"备注：\" bold></u-text>\r\n\t\t\t\t\t\t<input v-model=\"remark\" placeholder=\"请输入备注\" class=\"input\" />\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-field\">\r\n\t\t\t\t\t\t<u-text text=\"配送时间：\" bold></u-text>\r\n\t\t\t\t\t\t<picker mode=\"selector\" :range=\"timeOptions\" @change=\"onTimeSelect\">\r\n\t\t\t\t\t\t\t<view class=\"input\">\r\n\t\t\t\t\t\t\t\t{{ sendTime || '请选择时间（仅限当前时间之后）' }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"popup-buttons\">\r\n\t\t\t\t\t\t<button type=\"success\" @click=\"confirmPayment\">确认支付</button>\r\n\t\t\t\t\t\t<button @click=\"showPayment = false\" style=\"margin-top: 10rpx;\">取消</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tapi: this.$api,\r\n\t\t\t\tcarts: [],\r\n\t\t\t\tcheckedIds: [],\r\n\t\t\t\tshowPayment: false,\r\n\t\t\t\tqrCodeUrl: '',\r\n\t\t\t\tnickname: \"\",\r\n\t\t\t\tphone: \"\",\r\n\t\t\t\taddress: \"\",\r\n\t\t\t\tremark: '',\r\n\t\t\t\tsendTime: '',\r\n\t\t\t\ttimeOptions: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ttotalPrice() {\r\n\t\t\t\treturn this.carts.reduce((total, item) => {\r\n\t\t\t\t\tif (this.checkedIds.includes(item.id)) {\r\n\t\t\t\t\t\treturn total + item.quantity * item.food.price;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn total;\r\n\t\t\t\t}, 0);\r\n\t\t\t},\r\n\t\t\tallChecked() {\r\n\t\t\t\treturn this.carts.length > 0 && this.checkedIds.length === this.carts.length;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getData();\r\n\t\t\tthis.updateTimeOptions();\r\n\t\t\tuni.$u.http.get(\"/login/info\").then(res => {\r\n\t\t\t\tthis.nickname = res.data.nickname\r\n\t\t\t\tthis.phone = res.data.phone\r\n\t\t\t\tthis.address = res.data.address\r\n\t\t\t});\r\n\t\t\tuni.$u.http.get(\"/config/1\").then(res => {\r\n\t\t\t\tthis.qrCodeUrl = this.$api + 'file/' + res.data.img\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tupdateTimeOptions() {\r\n\t\t\t\tconst now = new Date();\r\n\t\t\t\tconst options = [];\r\n\t\t\t\tlet hour = now.getHours();\r\n\t\t\t\tlet minute = Math.ceil(now.getMinutes() / 10) * 10;\r\n\t\t\t\tif (minute === 60) {\r\n\t\t\t\t\thour += 1;\r\n\t\t\t\t\tminute = 0;\r\n\t\t\t\t}\r\n\t\t\t\tfor (let h = hour; h < 24; h++) {\r\n\t\t\t\t\tfor (let m = (h === hour ? minute : 0); m < 60; m += 10) {\r\n\t\t\t\t\t\toptions.push(`${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.timeOptions = options;\r\n\t\t\t},\r\n\t\t\tonTimeSelect(e) {\r\n\t\t\t\tthis.sendTime = this.timeOptions[e.detail.value];\r\n\t\t\t},\r\n\t\t\tgetData() {\r\n\t\t\t\tuni.$u.http.get(\"/cart\").then(res => {\r\n\t\t\t\t\tthis.carts = res.data;\r\n\t\t\t\t\tthis.checkedIds = res.data.map(i => i.id);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoggleItem(id) {\r\n\t\t\t\tif (this.checkedIds.includes(id)) {\r\n\t\t\t\t\tthis.checkedIds = this.checkedIds.filter(i => i !== id);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.checkedIds.push(id);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoggleAll() {\r\n\t\t\t\tthis.checkedIds = this.allChecked ? [] : this.carts.map(i => i.id);\r\n\t\t\t},\r\n\t\t\tchangeQuantity(item, delta) {\r\n\t\t\t\tconst newQuantity = item.quantity + delta;\r\n\t\t\t\tif (newQuantity < 1) {\r\n\t\t\t\t\tuni.$u.toast(\"至少一件\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tuni.$u.http.post(`/cart`, {\r\n\t\t\t\t\tquantity: newQuantity,\r\n\t\t\t\t\tid: item.id\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\titem.quantity = newQuantity;\r\n\t\t\t\t\tuni.$u.toast(\"修改成功\");\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteItem(item) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"确认删除\",\r\n\t\t\t\t\tcontent: \"确定删除该商品？\",\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.$u.http.delete(`/cart/${item.id}`).then(() => {\r\n\t\t\t\t\t\t\t\tthis.carts = this.carts.filter(c => c.id !== item.id);\r\n\t\t\t\t\t\t\t\tthis.checkedIds = this.checkedIds.filter(id => id !== item.id);\r\n\t\t\t\t\t\t\t\tuni.$u.toast(\"删除成功\");\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tconfirmPayment() {\r\n\t\t\t\tif (!this.sendTime) {\r\n\t\t\t\t\tuni.$u.toast('请选择配送时间');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst today = new Date().toISOString().split('T')[0];\r\n\t\t\t\tuni.$u.http.post(`/orders/buyCart`, {\r\n\t\t\t\t\tcartIds: this.checkedIds,\r\n\t\t\t\t\tremark: this.remark,\r\n\t\t\t\t\tsendTime: `${today} ${this.sendTime}:00`,\r\n\t\t\t\t\tnickname: this.nickname,\r\n\t\t\t\t\tphone: this.phone,\r\n\t\t\t\t\taddress: this.address\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tuni.$u.toast('支付成功');\r\n\t\t\t\t\tthis.showPayment = false;\r\n\t\t\t\t\tthis.remark = '';\r\n\t\t\t\t\tthis.sendTime = '';\r\n\t\t\t\t\tthis.getData();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n\t.cart-container {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.select-all {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.cart-item {\r\n\t\tdisplay: flex;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\r\n\t.cart-img {\r\n\t\tborder-radius: 8rpx;\r\n\t\tmargin: 0 20rpx;\r\n\t}\r\n\r\n\t.cart-info {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t.food-name {\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.food-price,\r\n\t.food-quantity,\r\n\t.food-subtotal {\r\n\t\tmargin: 6rpx 0;\r\n\t}\r\n\r\n\t.checkout-bar {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 30rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tborder-radius: 12rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.popup-mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t\tz-index: 1000;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.popup-box {\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 40rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\ttext-align: center;\r\n\t\twidth: 600rpx;\r\n\t}\r\n\r\n\t.form-field {\r\n\t\tmargin: 20rpx 0;\r\n\t\ttext-align: left;\r\n\t}\r\n\r\n\t.input {\r\n\t\tbackground-color: #f3f3f3;\r\n\t\tpadding: 16rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.popup-buttons {\r\n\t\tmargin-top: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n</style>","import mod from \"-!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&id=0f00adf4&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\javaEn\\\\HBuilderX.3.99.2023122611\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&id=0f00adf4&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1751437550492\n      var cssReload = require(\"D:/javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}