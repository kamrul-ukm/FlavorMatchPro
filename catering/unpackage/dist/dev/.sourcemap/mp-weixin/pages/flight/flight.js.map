{"version":3,"sources":["uni-app:///main.js","webpack:///D:/hbuilder-project/flight/pages/flight/flight.vue?c78a","webpack:///D:/hbuilder-project/flight/pages/flight/flight.vue?1474","webpack:///D:/hbuilder-project/flight/pages/flight/flight.vue?40c1","webpack:///D:/hbuilder-project/flight/pages/flight/flight.vue?0a59","uni-app:///pages/flight/flight.vue","webpack:///D:/hbuilder-project/flight/pages/flight/flight.vue?3ddf","webpack:///D:/hbuilder-project/flight/pages/flight/flight.vue?127f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","scrollTop","radiolist","show","flights","filteredFlights","showBookingPopup","bookingData","flightNumber","tickets","searchCriteria","departureAirport","arrivalAirport","departureDate","cityList","onShow","onReady","methods","dateConfirm","formatter","console","getData","uni","searchFlights","matchesDeparture","matchesArrival","openBooking","addPassenger","name","idcard","submitBooking","item","title","icon","duration","resetBookingData"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACqC;;;AAG1F;AACoM;AACpM,gBAAgB,8MAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mWAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,2UAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnGA;AAAA;AAAA;AAAA;AAAwwB,CAAgB,qxBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC+E5xB;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QAAA;QACAC;QACAC;MACA;;MACAC;QAAA;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACAC;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACAC;QACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA;QACA;UACAC;QACA;QACA;QACA;UACAC;QACA;QACA,4FACAZ;QACA;MACA;IACA;IAEA;IACAa;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACAC;QACAC;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;QAAA;MAAA;MACA;MACA;MACA;QACA;UACAC;QACA;UACAA;QACA;UACAA;QACA;QACAA;MACA;MACAT;QACAA;UACAU;UACAC;UACAC;QACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC7MA;AAAA;AAAA;AAAA;AAAqnC,CAAgB,omCAAG,EAAC,C;;;;;;;;;;;ACAzoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/flight/flight.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/flight/flight.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./flight.vue?vue&type=template&id=26fb8fc6&scoped=true&\"\nvar renderjs\nimport script from \"./flight.vue?vue&type=script&lang=js&\"\nexport * from \"./flight.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flight.vue?vue&type=style&index=0&id=26fb8fc6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26fb8fc6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/flight/flight.vue\"\nexport default component.exports","export * from \"-!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./flight.vue?vue&type=template&id=26fb8fc6&scoped=true&\"","var components\ntry {\n  components = {\n    uDatetimePicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker\" */ \"@/uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form/u-form\" */ \"@/uni_modules/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form-item/u-form-item\" */ \"@/uni_modules/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    \"u-Input\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--input/u--input\" */ \"@/uni_modules/uview-ui/components/u--input/u--input.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uList: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-list/u-list\" */ \"@/uni_modules/uview-ui/components/u-list/u-list.vue\"\n      )\n    },\n    uListItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-list-item/u-list-item\" */ \"@/uni_modules/uview-ui/components/u-list-item/u-list-item.vue\"\n      )\n    },\n    uCell: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell/u-cell\" */ \"@/uni_modules/uview-ui/components/u-cell/u-cell.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-input/u-input\" */ \"@/uni_modules/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uRadioGroup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio-group/u-radio-group\" */ \"@/uni_modules/uview-ui/components/u-radio-group/u-radio-group.vue\"\n      )\n    },\n    uRadio: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio/u-radio\" */ \"@/uni_modules/uview-ui/components/u-radio/u-radio.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.show = false\n    }\n    _vm.e1 = function ($event) {\n      _vm.show = true\n    }\n    _vm.e2 = function ($event) {\n      _vm.showBookingPopup = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./flight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./flight.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"flight-box\">\r\n\t\t<u-datetime-picker :show=\"show\" ref=\"datetimePicker\" mode=\"datetime\" @confirm=\"dateConfirm\"\r\n\t\t\t@cancel=\"show = false\"></u-datetime-picker>\r\n\t\t<!-- 查询表单 -->\r\n\t\t<u-form>\r\n\t\t\t<u-form-item label=\"出发城市\" :required=\"true\">\r\n\t\t\t\t<u--input placeholder=\"请输入出发城市\" border=\"surround\" v-model=\"searchCriteria.departureAirport\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"到达城市\" :required=\"true\">\r\n\t\t\t\t<u--input placeholder=\"请选择到达城市\" border=\"surround\" v-model=\"searchCriteria.arrivalAirport\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"出发日期\" :required=\"true\">\r\n\t\t\t\t<u--input placeholder=\"选择出发时间\" border=\"surround\" v-model=\"searchCriteria.departureDate\" disable\r\n\t\t\t\t\t@focus=\"show = true\"></u--input>\r\n\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item>\r\n\t\t\t\t<u-button @click=\"searchFlights\" type=\"primary\" size=\"default\">查询航班</u-button>\r\n\t\t\t</u-form-item>\r\n\t\t</u-form>\r\n\r\n\t\t<!-- 航班列表 -->\r\n\t\t<u-list>\r\n\t\t\t<u-list-item v-for=\"flight in filteredFlights\" :key=\"flight.id\">\r\n\t\t\t\t<u-cell :title=\"flight.flightNumber\" :label=\"flight.departureAirport + ' → ' + flight.arrivalAirport\"\r\n\t\t\t\t\t:value=\"'出发时间: ' + flight.departureTime\" @click=\"openBooking(flight)\" :border=\"false\">\r\n\t\t\t\t</u-cell>\r\n\t\t\t\t<view class=\"flight-details\" @click=\"openBooking(flight)\">\r\n\t\t\t\t\t<view>到达时间: {{ flight.arrivalTime }}</view>\r\n\t\t\t\t\t<view>经济舱: ￥{{ flight.economyPrice }} | 商务舱: ￥{{ flight.businessPrice }} | 头等舱:\r\n\t\t\t\t\t\t￥{{ flight.firstClassPrice }}</view>\r\n\t\t\t\t\t<view>可用座位: 经济舱{{ flight.availableSeatsEconomy }} | 商务舱{{ flight.availableSeatsBusiness }} |\r\n\t\t\t\t\t\t头等舱{{ flight.availableSeatsFirstClass }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-list-item>\r\n\t\t</u-list>\r\n\r\n\t\t<!-- 购票弹窗 -->\r\n\t\t<u-popup :show=\"showBookingPopup\" mode=\"center\" :closeable=\"true\" @close=\"showBookingPopup = false\">\r\n\t\t\t<view class=\"popup-content\">\r\n\t\t\t\t<u-form>\r\n\t\t\t\t\t<u-form-item label=\"航班\" :required=\"true\">\r\n\t\t\t\t\t\t<u-input v-model=\"bookingData.flightNumber\" disabled></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item label=\"乘客\" :required=\"true\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<u-button @click=\"addPassenger\" type=\"primary\">添加乘客</u-button>\r\n\t\t\t\t\t\t\t<scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\" class=\"scroll-Y\">\r\n\t\t\t\t\t\t\t\t<view v-for=\"(passenger, index) in bookingData.tickets\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<u-form-item :label=\"`乘客姓名${index+1}`\">\r\n\t\t\t\t\t\t\t\t\t\t<u-input v-model=\"passenger.name\" placeholder=\"请输入姓名\" required></u-input>\r\n\t\t\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t\t\t<u-form-item :label=\"`乘客身份证${index+1}`\">\r\n\t\t\t\t\t\t\t\t\t\t<u-input v-model=\"passenger.idcard\" placeholder=\"请输入身份证号\" required></u-input>\r\n\t\t\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t\t\t<u-form-item :label=\"`选择舱位${index+1}`\">\r\n\t\t\t\t\t\t\t\t\t\t<u-radio-group v-model=\"passenger.seatClass\" placement=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u-radio :customStyle=\"{marginBottom: '8px'}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(item, index2) in radiolist\" :key=\"index2\" :label=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:name=\"item\">\r\n\t\t\t\t\t\t\t\t\t\t\t</u-radio>\r\n\t\t\t\t\t\t\t\t\t\t</u-radio-group>\r\n\t\t\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</scroll-view>\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item>\r\n\t\t\t\t\t\t<u-button @click=\"submitBooking\" type=\"primary\" size=\"default\">提交订单</u-button>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t</u-form>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tradiolist: [\"经济舱\", \"商务舱\", \"头等舱\"],\r\n\t\t\t\tshow: false,\r\n\t\t\t\tflights: [], // 所有航班数据\r\n\t\t\t\tfilteredFlights: [], // 根据查询条件过滤后的航班\r\n\t\t\t\tshowBookingPopup: false, // 控制购票弹窗显示\r\n\t\t\t\tbookingData: { // 购票数据\r\n\t\t\t\t\tflightNumber: \"\",\r\n\t\t\t\t\ttickets: [] // 存储乘客信息\r\n\t\t\t\t},\r\n\t\t\t\tsearchCriteria: { // 查询条件\r\n\t\t\t\t\tdepartureAirport: '',\r\n\t\t\t\t\tarrivalAirport: '',\r\n\t\t\t\t\tdepartureDate: uni.$u.timeFormat(Date.now(), 'yyyy-mm-dd hh:MM')\r\n\t\t\t\t},\r\n\t\t\t\tcityList: ['上海', '北京', '虹桥', '美国'], // 城市列表（可以扩展）\r\n\t\t\t};\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getData();\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\t// 微信小程序需要用此写法\r\n\t\t\tthis.$refs.datetimePicker.setFormatter(this.formatter)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdateConfirm(e) {\r\n\t\t\t\tthis.show = false\r\n\t\t\t\tthis.searchCriteria.departureDate = uni.$u.timeFormat(e.value, 'yyyy-mm-dd hh:MM');\r\n\t\t\t},\r\n\t\t\tformatter(type, value) {\r\n\t\t\t\tconsole.log(type, value)\r\n\t\t\t\tif (type === 'year') {\r\n\t\t\t\t\treturn `${value}年`\r\n\t\t\t\t}\r\n\t\t\t\tif (type === 'month') {\r\n\t\t\t\t\treturn `${value}月`\r\n\t\t\t\t}\r\n\t\t\t\tif (type === 'day') {\r\n\t\t\t\t\treturn `${value}日`\r\n\t\t\t\t}\r\n\t\t\t\tif (type === 'hour') {\r\n\t\t\t\t\treturn `${value}时`\r\n\t\t\t\t}\r\n\t\t\t\tif (type === 'minute') {\r\n\t\t\t\t\treturn `${value}分`\r\n\t\t\t\t}\r\n\t\t\t\treturn value\r\n\t\t\t},\r\n\t\t\t// 获取航班数据\r\n\t\t\tgetData() {\r\n\t\t\t\tuni.$u.http.get(\"/flight\").then(res => {\r\n\t\t\t\t\tthis.flights = res.data;\r\n\t\t\t\t\tthis.filteredFlights = this.flights; // 初始时展示所有航班\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 查询航班\r\n\t\t\tsearchFlights() {\r\n\t\t\t\tthis.filteredFlights = this.flights.filter(flight => {\r\n\t\t\t\t\tlet matchesDeparture = true\r\n\t\t\t\t\tif (this.searchCriteria.departureAirport) {\r\n\t\t\t\t\t\tmatchesDeparture = flight.departureAirport === this.searchCriteria.departureAirport;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet matchesArrival = true\r\n\t\t\t\t\tif (this.searchCriteria.arrivalAirport) {\r\n\t\t\t\t\t\tmatchesArrival = flight.arrivalAirport === this.searchCriteria.arrivalAirport;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst matchesDate = new Date(flight.departureTime).getTime() > new Date(this.searchCriteria\r\n\t\t\t\t\t\t.departureDate).getTime()\r\n\t\t\t\t\treturn matchesDeparture && matchesArrival && matchesDate;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 点击航班后弹出购票窗口\r\n\t\t\topenBooking(flight) {\r\n\t\t\t\tthis.bookingData.tickets = []\r\n\t\t\t\tthis.bookingData.flightNumber = flight.flightNumber; // 填充航班号\r\n\t\t\t\tthis.bookingData.flightId = flight.id\r\n\t\t\t\tthis.addPassenger()\r\n\t\t\t\tthis.showBookingPopup = true; // 显示购票弹窗\r\n\t\t\t},\r\n\r\n\t\t\t// 添加乘客\r\n\t\t\taddPassenger() {\r\n\t\t\t\tthis.bookingData.tickets.push({\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tidcard: ''\r\n\t\t\t\t}); // 动态添加乘客信息输入框\r\n\t\t\t},\r\n\r\n\t\t\t// 处理购票表单提交\r\n\t\t\tsubmitBooking() {\r\n\t\t\t\tthis.bookingData.userId = uni.getStorageSync(\"userId\")\r\n\t\t\t\tlet currentFlight = this.flights.find(item => item.id == this.bookingData.flightId)\r\n\t\t\t\tthis.bookingData.status = \"已支付\"\r\n\t\t\t\tthis.bookingData.paymentStatus = \"已支付\"\r\n\t\t\t\tthis.bookingData.tickets.forEach(item => {\r\n\t\t\t\t\tif (item.seatClass == \"经济舱\") {\r\n\t\t\t\t\t\titem.price = currentFlight.economyPrice\r\n\t\t\t\t\t} else if (item.seatClass == \"商务舱\") {\r\n\t\t\t\t\t\titem.price = currentFlight.businessPrice\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.price = currentFlight.firstClassPrice\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.status = \"已支付\"\r\n\t\t\t\t})\r\n\t\t\t\tuni.$u.http.post(\"/indent\", this.bookingData).then(res => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '购票成功',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.showBookingPopup = false; // 关闭弹窗\r\n\t\t\t\t\tthis.resetBookingData(); // 重置数据\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 重置购票数据\r\n\t\t\tresetBookingData() {\r\n\t\t\t\tthis.bookingData.tickets = [];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.scroll-Y {\r\n\t\theight: 600rpx;\r\n\t}\r\n\r\n\t.popup-content {\r\n\t\tmargin-top: 50rpx;\r\n\t\tpadding: 20px;\r\n\t}\r\n\r\n\tu-button {\r\n\t\tmargin: 20px 0;\r\n\t}\r\n\r\n\tu-form-item {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.flight-box {\r\n\t\twidth: 90%;\r\n\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.flight-details {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666;\r\n\t\tmargin-top: 10px;\r\n\t\tborder-bottom: 1px solid darkgray;\r\n\t}\r\n\r\n\t.flight-details view {\r\n\t\tmargin-bottom: 5px;\r\n\t}\r\n</style>","import mod from \"-!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./flight.vue?vue&type=style&index=0&id=26fb8fc6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./flight.vue?vue&type=style&index=0&id=26fb8fc6&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1741521644017\n      var cssReload = require(\"D:/javaEn/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}